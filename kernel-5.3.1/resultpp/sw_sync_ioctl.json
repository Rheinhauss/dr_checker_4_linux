{"all_contexts":[
{"num_warnings": 3,
"context":[{"lineno": -1, "instr": "  %4 = alloca i64, align 8"}, {"lineno": 402, "file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_inc(obj, arg);"}],
"warnings":[{"warn_data": {"at_line": 384, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "value -= INT_MAX;", "inst_trace": [{"instr_func": "sw_sync_ioctl_inc", "instr_loc": 376, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "{"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 384, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "value -= INT_MAX;"}], "at_file": "drivers/dma-buf/sw_sync.c", "by": "IntegerOverflowDetector says:", "at_func": "sw_sync_ioctl_inc"}, "warn_no": 1},
{"warn_data": {"at_line": 376, "warn_str": "Non-constant size used in copy_to(or from)_user function.", "at": "{", "inst_trace": [], "at_file": "drivers/dma-buf/sw_sync.c", "by": "TaintedSizeDetector says:", "at_func": "sw_sync_ioctl_inc"}, "warn_no": 2},
{"warn_data": {"at_line": 382, "warn_str": "Loop is bounded by a tainted value.", "at": "while (value > INT_MAX)  {", "inst_trace": [{"instr_func": "sw_sync_ioctl_inc", "instr_loc": 376, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "{"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 382, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "while (value > INT_MAX)  {"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 382, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "while (value > INT_MAX)  {"}], "at_file": "drivers/dma-buf/sw_sync.c", "by": "TaintedLoopBoundDetector says:", "at_func": "sw_sync_ioctl_inc"}, "warn_no": 3}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i64, align 8"}, {"lineno": 402, "file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_inc(obj, arg);"}, {"lineno": 383, "file": "drivers/dma-buf/sw_sync.c", "instr": "sync_timeline_signal(obj, INT_MAX);"}, {"lineno": 199, "file": "drivers/dma-buf/sw_sync.c", "instr": "trace_sync_timeline(obj);"}, {"lineno": 12, "file": "./include/trace/../../drivers/dma-buf/sync_trace.h", "instr": "  %60 = call i32 @cpumask_test_cpu.225(i32 %59, %struct.cpumask* @__cpu_online_mask) #14, !dbg !36750"}, {"lineno": 344, "file": "./include/linux/cpumask.h", "instr": "  %6 = call i32 @cpumask_check.232(i32 %5) #14, !dbg !36673"}],
"warnings":[{"warn_data": {"at_line": 128, "warn_str": "Trying to use a global variable without locking.", "at": "  %4 = load i32, i32* @nr_cpu_ids, align 4, !dbg !36671", "inst_trace": [{"instr_func": "sw_sync_ioctl", "instr_loc": -1, "instr": "  %4 = alloca i64, align 8"}, {"instr_func": "sw_sync_ioctl", "instr_loc": 402, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_inc(obj, arg);"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 383, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "sync_timeline_signal(obj, INT_MAX);"}, {"instr_func": "sync_timeline_signal", "instr_loc": 199, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "trace_sync_timeline(obj);"}, {"instr_func": "trace_sync_timeline", "instr_loc": 12, "instr_file": "./include/trace/../../drivers/dma-buf/sync_trace.h", "instr": "  %60 = call i32 @cpumask_test_cpu.225(i32 %59, %struct.cpumask* @__cpu_online_mask) #14, !dbg !36750"}, {"instr_func": "cpumask_test_cpu.225", "instr_loc": 344, "instr_file": "./include/linux/cpumask.h", "instr": "  %6 = call i32 @cpumask_check.232(i32 %5) #14, !dbg !36673"}], "at_file": "./include/linux/cpumask.h", "by": "GlobalVariableRaceDetector says:", "at_func": "cpumask_check.232"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i64, align 8"}, {"lineno": 402, "file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_inc(obj, arg);"}, {"lineno": 387, "file": "drivers/dma-buf/sw_sync.c", "instr": "sync_timeline_signal(obj, value);"}],
"warnings":[{"warn_data": {"at_line": 203, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "obj->value += inc;", "inst_trace": [{"instr_func": "sw_sync_ioctl_inc", "instr_loc": 376, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "{"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 384, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "value -= INT_MAX;"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 384, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "value -= INT_MAX;"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 384, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "value -= INT_MAX;"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 384, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "value -= INT_MAX;"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 384, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "value -= INT_MAX;"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 384, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "value -= INT_MAX;"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 387, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "sync_timeline_signal(obj, value);"}, {"instr_func": "sw_sync_ioctl_inc", "instr_loc": 387, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "sync_timeline_signal(obj, value);"}, {"instr_func": "sync_timeline_signal", "instr_loc": 196, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "{"}, {"instr_func": "sync_timeline_signal", "instr_loc": 203, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "obj->value += inc;"}], "at_file": "drivers/dma-buf/sw_sync.c", "by": "IntegerOverflowDetector says:", "at_func": "sync_timeline_signal"}, "warn_no": 1}]},
{"num_warnings": 2,
"context":[{"lineno": -1, "instr": "  %4 = alloca i64, align 8"}, {"lineno": 399, "file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_create_fence(obj, arg);"}],
"warnings":[{"warn_data": {"at_line": 341, "warn_str": "Non-constant size used in copy_to(or from)_user function.", "at": "if (copy_from_user(&data, (void __user *)arg, sizeof(data))) {", "inst_trace": [], "at_file": "drivers/dma-buf/sw_sync.c", "by": "TaintedSizeDetector says:", "at_func": "sw_sync_ioctl_create_fence"}, "warn_no": 1},
{"warn_data": {"at_line": 359, "warn_str": "Non-constant size used in copy_to(or from)_user function.", "at": "data.fence = fd;", "inst_trace": [], "at_file": "drivers/dma-buf/sw_sync.c", "by": "TaintedSizeDetector says:", "at_func": "sw_sync_ioctl_create_fence"}, "warn_no": 2}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i64, align 8"}, {"lineno": 399, "file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_create_fence(obj, arg);"}, {"lineno": 346, "file": "drivers/dma-buf/sw_sync.c", "instr": "pt = sync_pt_create(obj, data.value);"}],
"warnings":[{"warn_data": {"at_line": 261, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "cmp = value - other->base.seqno;", "inst_trace": [{"instr_func": "sw_sync_ioctl_create_fence", "instr_loc": 341, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "if (copy_from_user(&data, (void __user *)arg, sizeof(data))) {"}, {"instr_func": "sw_sync_ioctl_create_fence", "instr_loc": 346, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "pt = sync_pt_create(obj, data.value);"}, {"instr_func": "sw_sync_ioctl_create_fence", "instr_loc": 346, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "pt = sync_pt_create(obj, data.value);"}, {"instr_func": "sync_pt_create", "instr_loc": 238, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "{"}, {"instr_func": "sync_pt_create", "instr_loc": 261, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "cmp = value - other->base.seqno;"}], "at_file": "drivers/dma-buf/sw_sync.c", "by": "IntegerOverflowDetector says:", "at_func": "sync_pt_create"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i64, align 8"}, {"lineno": 399, "file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_create_fence(obj, arg);"}, {"lineno": 346, "file": "drivers/dma-buf/sw_sync.c", "instr": "pt = sync_pt_create(obj, data.value);"}, {"lineno": 241, "file": "drivers/dma-buf/sw_sync.c", "instr": "pt = kzalloc(sizeof(*pt), GFP_KERNEL);"}],
"warnings":[{"warn_data": {"at_line": 553, "warn_str": "Trying to use a global variable without locking.", "at": "  %183 = getelementptr [3 x [14 x %struct.kmem_cache*]], [3 x [14 x %struct.kmem_cache*]]* @kmalloc_caches, i64 0, i64 %182, !dbg !36891", "inst_trace": [{"instr_func": "sw_sync_ioctl", "instr_loc": -1, "instr": "  %4 = alloca i64, align 8"}, {"instr_func": "sw_sync_ioctl", "instr_loc": 399, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_create_fence(obj, arg);"}, {"instr_func": "sw_sync_ioctl_create_fence", "instr_loc": 346, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "pt = sync_pt_create(obj, data.value);"}, {"instr_func": "sync_pt_create", "instr_loc": 241, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "pt = kzalloc(sizeof(*pt), GFP_KERNEL);"}], "at_file": "./include/linux/slab.h", "by": "GlobalVariableRaceDetector says:", "at_func": "kzalloc.204"}, "warn_no": 1}]},
{"num_warnings": 3,
"context":[{"lineno": -1, "instr": "  %4 = alloca i64, align 8"}, {"lineno": 399, "file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_create_fence(obj, arg);"}, {"lineno": 346, "file": "drivers/dma-buf/sw_sync.c", "instr": "pt = sync_pt_create(obj, data.value);"}, {"lineno": 251, "file": "drivers/dma-buf/sw_sync.c", "instr": "if (!dma_fence_is_signaled_locked(&pt->base)) {"}, {"lineno": 372, "file": "./include/linux/dma-fence.h", "instr": "  %27 = call i32 @dma_fence_signal_locked(%struct.dma_fence* %26) #14, !dbg !36686"}],
"warnings":[{"warn_data": {"at_line": 152, "warn_str": "Trying to read from a user pointer.", "at": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {", "inst_trace": [{"instr_func": "sw_sync_ioctl_create_fence", "instr_loc": 341, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "if (copy_from_user(&data, (void __user *)arg, sizeof(data))) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}], "at_file": "drivers/dma-buf/dma-fence.c", "by": "TaintedPointerDereferenceChecker says:", "at_func": "dma_fence_signal_locked"}, "warn_no": 1},
{"warn_data": {"at_line": 152, "warn_str": "Loop is bounded by a tainted value.", "at": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {", "inst_trace": [{"instr_func": "sw_sync_ioctl_create_fence", "instr_loc": 341, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "if (copy_from_user(&data, (void __user *)arg, sizeof(data))) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}], "at_file": "drivers/dma-buf/dma-fence.c", "by": "TaintedLoopBoundDetector says:", "at_func": "dma_fence_signal_locked"}, "warn_no": 2},
{"warn_data": {"at_line": 154, "warn_str": "Trying to read from a user pointer.", "at": "cur->func(fence, cur);", "inst_trace": [{"instr_func": "sw_sync_ioctl_create_fence", "instr_loc": 341, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "if (copy_from_user(&data, (void __user *)arg, sizeof(data))) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 152, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "list_for_each_entry_safe(cur, tmp, &fence->cb_list, node) {"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 154, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "cur->func(fence, cur);"}, {"instr_func": "dma_fence_signal_locked", "instr_loc": 154, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "cur->func(fence, cur);"}], "at_file": "drivers/dma-buf/dma-fence.c", "by": "TaintedPointerDereferenceChecker says:", "at_func": "dma_fence_signal_locked"}, "warn_no": 3}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i64, align 8"}, {"lineno": 399, "file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_create_fence(obj, arg);"}, {"lineno": 352, "file": "drivers/dma-buf/sw_sync.c", "instr": "sync_file = sync_file_create(&pt->base);"}, {"lineno": 68, "file": "drivers/dma-buf/sync_file.c", "instr": "sync_file = sync_file_alloc();"}, {"lineno": 26, "file": "drivers/dma-buf/sync_file.c", "instr": "sync_file = kzalloc(sizeof(*sync_file), GFP_KERNEL);"}],
"warnings":[{"warn_data": {"at_line": 553, "warn_str": "Trying to use a global variable without locking.", "at": "  %183 = getelementptr [3 x [14 x %struct.kmem_cache*]], [3 x [14 x %struct.kmem_cache*]]* @kmalloc_caches, i64 0, i64 %182, !dbg !36891", "inst_trace": [{"instr_func": "sw_sync_ioctl", "instr_loc": -1, "instr": "  %4 = alloca i64, align 8"}, {"instr_func": "sw_sync_ioctl", "instr_loc": 399, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_create_fence(obj, arg);"}, {"instr_func": "sw_sync_ioctl_create_fence", "instr_loc": 352, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "sync_file = sync_file_create(&pt->base);"}, {"instr_func": "sync_file_create", "instr_loc": 68, "instr_file": "drivers/dma-buf/sync_file.c", "instr": "sync_file = sync_file_alloc();"}, {"instr_func": "sync_file_alloc", "instr_loc": 26, "instr_file": "drivers/dma-buf/sync_file.c", "instr": "sync_file = kzalloc(sizeof(*sync_file), GFP_KERNEL);"}], "at_file": "./include/linux/slab.h", "by": "GlobalVariableRaceDetector says:", "at_func": "kzalloc.312"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i64, align 8"}, {"lineno": 399, "file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_create_fence(obj, arg);"}, {"lineno": 353, "file": "drivers/dma-buf/sw_sync.c", "instr": "dma_fence_put(&pt->base);"}, {"lineno": 259, "file": "./include/linux/dma-fence.h", "instr": "  %9 = call i32 @kref_put.199(%struct.qspinlock* %8, void (%struct.qspinlock*)* @dma_fence_release) #14, !dbg !36673"}, {"lineno": 65, "file": "./include/linux/kref.h", "instr": "  call void %10(%struct.qspinlock* %11) #14, !dbg !36681"}, {"lineno": 249, "file": "drivers/dma-buf/dma-fence.c", "instr": "trace_dma_fence_destroy(fence);"}],
"warnings":[{"warn_data": {"at_line": 51, "warn_str": "Trying to use a global variable without locking.", "at": "  %251 = load i8, i8* @trace_dma_fence_destroy.__warned, align 1, !dbg !36826", "inst_trace": [{"instr_func": "sw_sync_ioctl", "instr_loc": -1, "instr": "  %4 = alloca i64, align 8"}, {"instr_func": "sw_sync_ioctl", "instr_loc": 399, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "return sw_sync_ioctl_create_fence(obj, arg);"}, {"instr_func": "sw_sync_ioctl_create_fence", "instr_loc": 353, "instr_file": "drivers/dma-buf/sw_sync.c", "instr": "dma_fence_put(&pt->base);"}, {"instr_func": "dma_fence_put.237", "instr_loc": 259, "instr_file": "./include/linux/dma-fence.h", "instr": "  %9 = call i32 @kref_put.199(%struct.qspinlock* %8, void (%struct.qspinlock*)* @dma_fence_release) #14, !dbg !36673"}, {"instr_func": "kref_put.199", "instr_loc": 65, "instr_file": "./include/linux/kref.h", "instr": "  call void %10(%struct.qspinlock* %11) #14, !dbg !36681"}, {"instr_func": "dma_fence_release", "instr_loc": 249, "instr_file": "drivers/dma-buf/dma-fence.c", "instr": "trace_dma_fence_destroy(fence);"}], "at_file": "./include/trace/events/dma_fence.h", "by": "GlobalVariableRaceDetector says:", "at_func": "trace_dma_fence_destroy"}, "warn_no": 1}]}]}