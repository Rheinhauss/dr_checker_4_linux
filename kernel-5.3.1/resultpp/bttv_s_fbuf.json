{"all_contexts":[
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2604, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "fmt = format_by_fourcc(fb->fmt.pixelformat);"}],
"warnings":[{"warn_data": {"at_line": 1506, "warn_str": "Trying to use a global variable without locking.", "at": "if (formats[i].fourcc == fourcc)", "inst_trace": [{"instr_func": "bttv_s_fbuf", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fbuf", "instr_loc": 2604, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "fmt = format_by_fourcc(fb->fmt.pixelformat);"}], "at_file": "drivers/media/pci/bt8xx/bttv-driver.c", "by": "GlobalVariableRaceDetector says:", "at_func": "format_by_fourcc"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2615, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "retval = limit_scaled_size_lock(fh, &width, &height,"}],
"warnings":[{"warn_data": {"at_line": 1987, "warn_str": "Trying to use a global variable without locking.", "at": "b = &bttv_tvnorms[btv->tvnorm].cropcap.bounds;", "inst_trace": [{"instr_func": "bttv_s_fbuf", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fbuf", "instr_loc": 2615, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "retval = limit_scaled_size_lock(fh, &width, &height,"}], "at_file": "drivers/media/pci/bt8xx/bttv-driver.c", "by": "GlobalVariableRaceDetector says:", "at_func": "limit_scaled_size_lock"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2652, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "new = videobuf_sg_alloc(sizeof(*new));"}],
"warnings":[{"warn_data": {"at_line": 662, "warn_str": "Trying to use a global variable without locking.", "at": "q.int_ops = &sg_ops;", "inst_trace": [{"instr_func": "bttv_s_fbuf", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fbuf", "instr_loc": 2652, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "new = videobuf_sg_alloc(sizeof(*new));"}], "at_file": "drivers/media/v4l2-core/videobuf-dma-sg.c", "by": "GlobalVariableRaceDetector says:", "at_func": "videobuf_sg_alloc"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2654, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}],
"warnings":[{"warn_data": {"at_line": 863, "warn_str": "Trying to use a global variable without locking.", "at": "dprintk(\"%d: overlay fields: %s format: %s  size: %dx%d\\n\",", "inst_trace": [{"instr_func": "bttv_s_fbuf", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fbuf", "instr_loc": 2654, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}], "at_file": "drivers/media/pci/bt8xx/bttv-risc.c", "by": "GlobalVariableRaceDetector says:", "at_func": "bttv_overlay_risc"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2654, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"lineno": 881, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"lineno": 247, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "skips = kmalloc_array(ov->nclips, sizeof(*skips),GFP_KERNEL);"}],
"warnings":[{"warn_data": {"at_line": 553, "warn_str": "Trying to use a global variable without locking.", "at": "  %221 = getelementptr [3 x [14 x %struct.kmem_cache*]], [3 x [14 x %struct.kmem_cache*]]* @kmalloc_caches, i64 0, i64 %220, !dbg !206315", "inst_trace": [{"instr_func": "bttv_s_fbuf", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fbuf", "instr_loc": 2654, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"instr_func": "bttv_overlay_risc", "instr_loc": 881, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"instr_func": "bttv_risc_overlay", "instr_loc": 247, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "skips = kmalloc_array(ov->nclips, sizeof(*skips),GFP_KERNEL);"}], "at_file": "./include/linux/slab.h", "by": "GlobalVariableRaceDetector says:", "at_func": "kmalloc_array"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2654, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"lineno": 881, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"lineno": 256, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "if ((rc = btcx_riscmem_alloc(btv->c.pci,risc,dwords*4)) < 0) {"}, {"lineno": 63, "file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "btcx_riscmem_free(pci,risc);"}],
"warnings":[{"warn_data": {"at_line": 47, "warn_str": "Trying to use a global variable without locking.", "at": "memcnt--;", "inst_trace": [{"instr_func": "bttv_s_fbuf", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fbuf", "instr_loc": 2654, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"instr_func": "bttv_overlay_risc", "instr_loc": 881, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"instr_func": "bttv_risc_overlay", "instr_loc": 256, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "if ((rc = btcx_riscmem_alloc(btv->c.pci,risc,dwords*4)) < 0) {"}, {"instr_func": "btcx_riscmem_alloc", "instr_loc": 63, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "btcx_riscmem_free(pci,risc);"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "GlobalVariableRaceDetector says:", "at_func": "btcx_riscmem_free"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2654, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"lineno": 881, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"lineno": 256, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "if ((rc = btcx_riscmem_alloc(btv->c.pci,risc,dwords*4)) < 0) {"}],
"warnings":[{"warn_data": {"at_line": 72, "warn_str": "Trying to use a global variable without locking.", "at": "memcnt++;", "inst_trace": [{"instr_func": "bttv_s_fbuf", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fbuf", "instr_loc": 2654, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"instr_func": "bttv_overlay_risc", "instr_loc": 881, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"instr_func": "bttv_risc_overlay", "instr_loc": 256, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "if ((rc = btcx_riscmem_alloc(btv->c.pci,risc,dwords*4)) < 0) {"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "GlobalVariableRaceDetector says:", "at_func": "btcx_riscmem_alloc"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2654, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"lineno": 881, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"lineno": 283, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "btcx_calc_skips(line, ov->w.width, &maxy,"}],
"warnings":[{"warn_data": {"at_line": 224, "warn_str": "Trying to use a global variable without locking.", "at": "if (btcx_debug) {", "inst_trace": [{"instr_func": "bttv_s_fbuf", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fbuf", "instr_loc": 2654, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"instr_func": "bttv_overlay_risc", "instr_loc": 881, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"instr_func": "bttv_risc_overlay", "instr_loc": 283, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "btcx_calc_skips(line, ov->w.width, &maxy,"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "GlobalVariableRaceDetector says:", "at_func": "btcx_calc_skips"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2655, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "retval = bttv_switch_overlay(btv, fh, new);"}],
"warnings":[{"warn_data": {"at_line": 1522, "warn_str": "Trying to use a global variable without locking.", "at": "dprintk(\"switch_overlay: enter [new=%p]\\n\", new);", "inst_trace": [{"instr_func": "bttv_s_fbuf", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fbuf", "instr_loc": 2655, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "retval = bttv_switch_overlay(btv, fh, new);"}], "at_file": "drivers/media/pci/bt8xx/bttv-driver.c", "by": "GlobalVariableRaceDetector says:", "at_func": "bttv_switch_overlay"}, "warn_no": 1}]}]}