{"all_contexts":[
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}],
"warnings":[{"warn_data": {"at_line": 2445, "warn_str": "Trying to use a global variable without locking.", "at": "if (no_overlay > 0) {", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}], "at_file": "drivers/media/pci/bt8xx/bttv-driver.c", "by": "GlobalVariableRaceDetector says:", "at_func": "bttv_s_fmt_vid_overlay"}, "warn_no": 1}]},
{"num_warnings": 2,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}],
"warnings":[{"warn_data": {"at_line": 2159, "warn_str": "Trying to use a global variable without locking.", "at": "n = win->clipcount;", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": 2450, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}], "at_file": "drivers/media/pci/bt8xx/bttv-driver.c", "by": "GlobalVariableRaceDetector says:", "at_func": "setup_window_lock"}, "warn_no": 1},
{"warn_data": {"at_line": 2165, "warn_str": "Non-constant size used in copy_to(or from)_user function.", "at": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {", "inst_trace": [], "at_file": "drivers/media/pci/bt8xx/bttv-driver.c", "by": "TaintedSizeDetector says:", "at_func": "setup_window_lock"}, "warn_no": 2}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2151, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "retval = verify_window_lock(fh, win,"}, {"lineno": 2132, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "rc = limit_scaled_size_lock(fh, &win->w.width, &win->w.height,"}],
"warnings":[{"warn_data": {"at_line": 1987, "warn_str": "Trying to use a global variable without locking.", "at": "b = &bttv_tvnorms[btv->tvnorm].cropcap.bounds;", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": 2450, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"instr_func": "setup_window_lock", "instr_loc": 2151, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "retval = verify_window_lock(fh, win,"}, {"instr_func": "verify_window_lock", "instr_loc": 2132, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "rc = limit_scaled_size_lock(fh, &win->w.width, &win->w.height,"}], "at_file": "drivers/media/pci/bt8xx/bttv-driver.c", "by": "GlobalVariableRaceDetector says:", "at_func": "limit_scaled_size_lock"}, "warn_no": 1}]},
{"num_warnings": 2,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2173, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "n = btcx_screen_clips(btv->fbuf.fmt.width, btv->fbuf.fmt.height,"}],
"warnings":[{"warn_data": {"at_line": 99, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "clips[n].c.width  = win->width - clips[n].c.left;", "inst_trace": [{"instr_func": "setup_window_lock", "instr_loc": 2165, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {"}, {"instr_func": "btcx_screen_clips", "instr_loc": 99, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "clips[n].c.width  = win->width - clips[n].c.left;"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "IntegerOverflowDetector says:", "at_func": "btcx_screen_clips"}, "warn_no": 1},
{"warn_data": {"at_line": 116, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "clips[n].c.height = win->height - clips[n].c.top;", "inst_trace": [{"instr_func": "setup_window_lock", "instr_loc": 2165, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {"}, {"instr_func": "btcx_screen_clips", "instr_loc": 116, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "clips[n].c.height = win->height - clips[n].c.top;"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "IntegerOverflowDetector says:", "at_func": "btcx_screen_clips"}, "warn_no": 2}]},
{"num_warnings": 5,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2184, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "btcx_align(&win->w, clips, n, 1);"}],
"warnings":[{"warn_data": {"at_line": 136, "warn_str": "Trying to use a global variable without locking.", "at": "dprintk(\"btcx: window align %dx%d+%d+%d [dx=%d]\\n\",", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": 2450, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"instr_func": "setup_window_lock", "instr_loc": 2184, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "btcx_align(&win->w, clips, n, 1);"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "GlobalVariableRaceDetector says:", "at_func": "btcx_align"}, "warn_no": 1},
{"warn_data": {"at_line": 141, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "nx = (clips[i].c.left-dx) & ~mask;", "inst_trace": [{"instr_func": "setup_window_lock", "instr_loc": 2165, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {"}, {"instr_func": "btcx_align", "instr_loc": 141, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "nx = (clips[i].c.left-dx) & ~mask;"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "IntegerOverflowDetector says:", "at_func": "btcx_align"}, "warn_no": 2},
{"warn_data": {"at_line": 143, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)", "inst_trace": [{"instr_func": "setup_window_lock", "instr_loc": 2165, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {"}, {"instr_func": "btcx_align", "instr_loc": 141, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "nx = (clips[i].c.left-dx) & ~mask;"}, {"instr_func": "btcx_align", "instr_loc": 141, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "nx = (clips[i].c.left-dx) & ~mask;"}, {"instr_func": "btcx_align", "instr_loc": 141, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "nx = (clips[i].c.left-dx) & ~mask;"}, {"instr_func": "btcx_align", "instr_loc": 141, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "nx = (clips[i].c.left-dx) & ~mask;"}, {"instr_func": "btcx_align", "instr_loc": 143, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "IntegerOverflowDetector says:", "at_func": "btcx_align"}, "warn_no": 3},
{"warn_data": {"at_line": 143, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)", "inst_trace": [{"instr_func": "setup_window_lock", "instr_loc": 2165, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {"}, {"instr_func": "btcx_align", "instr_loc": 143, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "IntegerOverflowDetector says:", "at_func": "btcx_align"}, "warn_no": 4},
{"warn_data": {"at_line": 143, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)", "inst_trace": [{"instr_func": "setup_window_lock", "instr_loc": 2165, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {"}, {"instr_func": "btcx_align", "instr_loc": 143, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)"}, {"instr_func": "btcx_align", "instr_loc": 143, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "IntegerOverflowDetector says:", "at_func": "btcx_align"}, "warn_no": 5}]},
{"num_warnings": 4,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2181, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "btcx_align(&win->w, clips, n, 3);"}],
"warnings":[{"warn_data": {"at_line": 141, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "nx = (clips[i].c.left-dx) & ~mask;", "inst_trace": [{"instr_func": "setup_window_lock", "instr_loc": 2165, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {"}, {"instr_func": "btcx_align", "instr_loc": 141, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "nx = (clips[i].c.left-dx) & ~mask;"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "IntegerOverflowDetector says:", "at_func": "btcx_align"}, "warn_no": 1},
{"warn_data": {"at_line": 143, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)", "inst_trace": [{"instr_func": "setup_window_lock", "instr_loc": 2165, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {"}, {"instr_func": "btcx_align", "instr_loc": 141, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "nx = (clips[i].c.left-dx) & ~mask;"}, {"instr_func": "btcx_align", "instr_loc": 141, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "nx = (clips[i].c.left-dx) & ~mask;"}, {"instr_func": "btcx_align", "instr_loc": 141, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "nx = (clips[i].c.left-dx) & ~mask;"}, {"instr_func": "btcx_align", "instr_loc": 141, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "nx = (clips[i].c.left-dx) & ~mask;"}, {"instr_func": "btcx_align", "instr_loc": 143, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "IntegerOverflowDetector says:", "at_func": "btcx_align"}, "warn_no": 2},
{"warn_data": {"at_line": 143, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)", "inst_trace": [{"instr_func": "setup_window_lock", "instr_loc": 2165, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {"}, {"instr_func": "btcx_align", "instr_loc": 143, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "IntegerOverflowDetector says:", "at_func": "btcx_align"}, "warn_no": 3},
{"warn_data": {"at_line": 143, "warn_str": "Potential overflow, using tainted value in binary operation.", "at": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)", "inst_trace": [{"instr_func": "setup_window_lock", "instr_loc": 2165, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "if (copy_from_user(clips,win->clips,sizeof(struct v4l2_clip)*n)) {"}, {"instr_func": "btcx_align", "instr_loc": 143, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)"}, {"instr_func": "btcx_align", "instr_loc": 143, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "if (nx + nw < clips[i].c.left-dx + clips[i].c.width)"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "IntegerOverflowDetector says:", "at_func": "btcx_align"}, "warn_no": 4}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2210, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "new = videobuf_sg_alloc(sizeof(*new));"}],
"warnings":[{"warn_data": {"at_line": 662, "warn_str": "Trying to use a global variable without locking.", "at": "q.int_ops = &sg_ops;", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": 2450, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"instr_func": "setup_window_lock", "instr_loc": 2210, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "new = videobuf_sg_alloc(sizeof(*new));"}], "at_file": "drivers/media/v4l2-core/videobuf-dma-sg.c", "by": "GlobalVariableRaceDetector says:", "at_func": "videobuf_sg_alloc"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2212, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}],
"warnings":[{"warn_data": {"at_line": 863, "warn_str": "Trying to use a global variable without locking.", "at": "dprintk(\"%d: overlay fields: %s format: %s  size: %dx%d\\n\",", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": 2450, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"instr_func": "setup_window_lock", "instr_loc": 2212, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}], "at_file": "drivers/media/pci/bt8xx/bttv-risc.c", "by": "GlobalVariableRaceDetector says:", "at_func": "bttv_overlay_risc"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2212, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"lineno": 881, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"lineno": 247, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "skips = kmalloc_array(ov->nclips, sizeof(*skips),GFP_KERNEL);"}],
"warnings":[{"warn_data": {"at_line": 553, "warn_str": "Trying to use a global variable without locking.", "at": "  %221 = getelementptr [3 x [14 x %struct.kmem_cache*]], [3 x [14 x %struct.kmem_cache*]]* @kmalloc_caches, i64 0, i64 %220, !dbg !206315", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": 2450, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"instr_func": "setup_window_lock", "instr_loc": 2212, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"instr_func": "bttv_overlay_risc", "instr_loc": 881, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"instr_func": "bttv_risc_overlay", "instr_loc": 247, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "skips = kmalloc_array(ov->nclips, sizeof(*skips),GFP_KERNEL);"}], "at_file": "./include/linux/slab.h", "by": "GlobalVariableRaceDetector says:", "at_func": "kmalloc_array"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2212, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"lineno": 881, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"lineno": 256, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "if ((rc = btcx_riscmem_alloc(btv->c.pci,risc,dwords*4)) < 0) {"}],
"warnings":[{"warn_data": {"at_line": 72, "warn_str": "Trying to use a global variable without locking.", "at": "memcnt++;", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": 2450, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"instr_func": "setup_window_lock", "instr_loc": 2212, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"instr_func": "bttv_overlay_risc", "instr_loc": 881, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"instr_func": "bttv_risc_overlay", "instr_loc": 256, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "if ((rc = btcx_riscmem_alloc(btv->c.pci,risc,dwords*4)) < 0) {"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "GlobalVariableRaceDetector says:", "at_func": "btcx_riscmem_alloc"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2212, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"lineno": 881, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"lineno": 256, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "if ((rc = btcx_riscmem_alloc(btv->c.pci,risc,dwords*4)) < 0) {"}, {"lineno": 63, "file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "btcx_riscmem_free(pci,risc);"}],
"warnings":[{"warn_data": {"at_line": 47, "warn_str": "Trying to use a global variable without locking.", "at": "memcnt--;", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": 2450, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"instr_func": "setup_window_lock", "instr_loc": 2212, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"instr_func": "bttv_overlay_risc", "instr_loc": 881, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"instr_func": "bttv_risc_overlay", "instr_loc": 256, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "if ((rc = btcx_riscmem_alloc(btv->c.pci,risc,dwords*4)) < 0) {"}, {"instr_func": "btcx_riscmem_alloc", "instr_loc": 63, "instr_file": "drivers/media/pci/bt8xx/btcx-risc.c", "instr": "btcx_riscmem_free(pci,risc);"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "GlobalVariableRaceDetector says:", "at_func": "btcx_riscmem_free"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2212, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"lineno": 881, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"lineno": 283, "file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "btcx_calc_skips(line, ov->w.width, &maxy,"}],
"warnings":[{"warn_data": {"at_line": 224, "warn_str": "Trying to use a global variable without locking.", "at": "if (btcx_debug) {", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": 2450, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"instr_func": "setup_window_lock", "instr_loc": 2212, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "bttv_overlay_risc(btv, &fh->ov, fh->ovfmt, new);"}, {"instr_func": "bttv_overlay_risc", "instr_loc": 881, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "bttv_risc_overlay(btv, &buf->top,    fmt, ov, 0, 1);"}, {"instr_func": "bttv_risc_overlay", "instr_loc": 283, "instr_file": "drivers/media/pci/bt8xx/bttv-risc.c", "instr": "btcx_calc_skips(line, ov->w.width, &maxy,"}], "at_file": "drivers/media/pci/bt8xx/btcx-risc.c", "by": "GlobalVariableRaceDetector says:", "at_func": "btcx_calc_skips"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 2450, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"lineno": 2213, "file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "retval = bttv_switch_overlay(btv,fh,new);"}],
"warnings":[{"warn_data": {"at_line": 1522, "warn_str": "Trying to use a global variable without locking.", "at": "dprintk(\"switch_overlay: enter [new=%p]\\n\", new);", "inst_trace": [{"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "bttv_s_fmt_vid_overlay", "instr_loc": 2450, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "return setup_window_lock(fh, btv, &f->fmt.win, 1);"}, {"instr_func": "setup_window_lock", "instr_loc": 2213, "instr_file": "drivers/media/pci/bt8xx/bttv-driver.c", "instr": "retval = bttv_switch_overlay(btv,fh,new);"}], "at_file": "drivers/media/pci/bt8xx/bttv-driver.c", "by": "GlobalVariableRaceDetector says:", "at_func": "bttv_switch_overlay"}, "warn_no": 1}]}]}