{"all_contexts":[
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i64, align 8"}, {"lineno": 734, "file": "drivers/staging/greybus/svc.c", "instr": "ret = gb_svc_pwrmon_sample_get(svc, pwrmon_rails->id,"}, {"lineno": 183, "file": "drivers/staging/greybus/svc.c", "instr": "ret = gb_operation_sync(svc->connection, GB_SVC_TYPE_PWRMON_SAMPLE_GET,"}, {"lineno": 198, "file": "drivers/staging/greybus/operation.h", "instr": "  %19 = call i32 bitcast (i32 (%struct.gb_connection.15034*, i32, i8*, i32, i8*, i32, i32)* @gb_operation_sync_timeout to i32 (%struct.gb_connection.11621*, i32, i8*, i32, i8*, i32, i32)*)(%struct.gb_connection.11621* %13, i32 %14, i8* %15, i32 %16, i8* %17, i32 %18, i32 1000) #15, !dbg !255923"}, {"lineno": 1159, "file": "drivers/staging/greybus/operation.c", "instr": "ret = gb_operation_request_send_sync_timeout(operation, timeout);"}, {"lineno": 799, "file": "drivers/staging/greybus/operation.c", "instr": "ret = gb_operation_request_send(operation, gb_operation_sync_callback,"}],
"warnings":[{"warn_data": {"at_line": 773, "warn_str": "Trying to use a global variable without locking.", "at": "operation->timer.expires = jiffies + msecs_to_jiffies(timeout);", "inst_trace": [{"instr_func": "pwr_debugfs_power_read", "instr_loc": -1, "instr": "  %5 = alloca i64, align 8"}, {"instr_func": "pwr_debugfs_power_read", "instr_loc": 734, "instr_file": "drivers/staging/greybus/svc.c", "instr": "ret = gb_svc_pwrmon_sample_get(svc, pwrmon_rails->id,"}, {"instr_func": "gb_svc_pwrmon_sample_get", "instr_loc": 183, "instr_file": "drivers/staging/greybus/svc.c", "instr": "ret = gb_operation_sync(svc->connection, GB_SVC_TYPE_PWRMON_SAMPLE_GET,"}, {"instr_func": "gb_operation_sync.3640", "instr_loc": 198, "instr_file": "drivers/staging/greybus/operation.h", "instr": "  %19 = call i32 bitcast (i32 (%struct.gb_connection.15034*, i32, i8*, i32, i8*, i32, i32)* @gb_operation_sync_timeout to i32 (%struct.gb_connection.11621*, i32, i8*, i32, i8*, i32, i32)*)(%struct.gb_connection.11621* %13, i32 %14, i8* %15, i32 %16, i8* %17, i32 %18, i32 1000) #15, !dbg !255923"}, {"instr_func": "gb_operation_sync_timeout", "instr_loc": 1159, "instr_file": "drivers/staging/greybus/operation.c", "instr": "ret = gb_operation_request_send_sync_timeout(operation, timeout);"}, {"instr_func": "gb_operation_request_send_sync_timeout", "instr_loc": 799, "instr_file": "drivers/staging/greybus/operation.c", "instr": "ret = gb_operation_request_send(operation, gb_operation_sync_callback,"}], "at_file": "drivers/staging/greybus/operation.c", "by": "GlobalVariableRaceDetector says:", "at_func": "gb_operation_request_send"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i64, align 8"}, {"lineno": 734, "file": "drivers/staging/greybus/svc.c", "instr": "ret = gb_svc_pwrmon_sample_get(svc, pwrmon_rails->id,"}, {"lineno": 183, "file": "drivers/staging/greybus/svc.c", "instr": "ret = gb_operation_sync(svc->connection, GB_SVC_TYPE_PWRMON_SAMPLE_GET,"}, {"lineno": 198, "file": "drivers/staging/greybus/operation.h", "instr": "  %19 = call i32 bitcast (i32 (%struct.gb_connection.15034*, i32, i8*, i32, i8*, i32, i32)* @gb_operation_sync_timeout to i32 (%struct.gb_connection.11621*, i32, i8*, i32, i8*, i32, i32)*)(%struct.gb_connection.11621* %13, i32 %14, i8* %15, i32 %16, i8* %17, i32 %18, i32 1000) #15, !dbg !255923"}, {"lineno": 1159, "file": "drivers/staging/greybus/operation.c", "instr": "ret = gb_operation_request_send_sync_timeout(operation, timeout);"}, {"lineno": 807, "file": "drivers/staging/greybus/operation.c", "instr": "gb_operation_cancel(operation, -ECANCELED);"}],
"warnings":[{"warn_data": {"at_line": 1078, "warn_str": "Trying to use a global variable without locking.", "at": "queue_work(gb_operation_completion_wq, &operation->work);", "inst_trace": [{"instr_func": "pwr_debugfs_power_read", "instr_loc": -1, "instr": "  %5 = alloca i64, align 8"}, {"instr_func": "pwr_debugfs_power_read", "instr_loc": 734, "instr_file": "drivers/staging/greybus/svc.c", "instr": "ret = gb_svc_pwrmon_sample_get(svc, pwrmon_rails->id,"}, {"instr_func": "gb_svc_pwrmon_sample_get", "instr_loc": 183, "instr_file": "drivers/staging/greybus/svc.c", "instr": "ret = gb_operation_sync(svc->connection, GB_SVC_TYPE_PWRMON_SAMPLE_GET,"}, {"instr_func": "gb_operation_sync.3640", "instr_loc": 198, "instr_file": "drivers/staging/greybus/operation.h", "instr": "  %19 = call i32 bitcast (i32 (%struct.gb_connection.15034*, i32, i8*, i32, i8*, i32, i32)* @gb_operation_sync_timeout to i32 (%struct.gb_connection.11621*, i32, i8*, i32, i8*, i32, i32)*)(%struct.gb_connection.11621* %13, i32 %14, i8* %15, i32 %16, i8* %17, i32 %18, i32 1000) #15, !dbg !255923"}, {"instr_func": "gb_operation_sync_timeout", "instr_loc": 1159, "instr_file": "drivers/staging/greybus/operation.c", "instr": "ret = gb_operation_request_send_sync_timeout(operation, timeout);"}, {"instr_func": "gb_operation_request_send_sync_timeout", "instr_loc": 807, "instr_file": "drivers/staging/greybus/operation.c", "instr": "gb_operation_cancel(operation, -ECANCELED);"}], "at_file": "drivers/staging/greybus/operation.c", "by": "GlobalVariableRaceDetector says:", "at_func": "gb_operation_cancel"}, "warn_no": 1}]}]}