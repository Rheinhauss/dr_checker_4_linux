{"all_contexts":[
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 1040, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "struct stk_camera *dev = video_drvdata(filp);"}, {"lineno": 510, "file": "./include/media/v4l2-dev.h", "instr": "  %4 = call %struct.video_device* @video_devdata(%struct.file* %3) #12, !dbg !71073"}],
"warnings":[{"warn_data": {"at_line": 236, "warn_str": "Trying to use a global variable without locking.", "at": "return video_devices[iminor(file_inode(file))];", "inst_trace": [{"instr_func": "stk_vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "stk_vidioc_reqbufs", "instr_loc": 1040, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "struct stk_camera *dev = video_drvdata(filp);"}, {"instr_func": "video_drvdata", "instr_loc": 510, "instr_file": "./include/media/v4l2-dev.h", "instr": "  %4 = call %struct.video_device* @video_devdata(%struct.file* %3) #12, !dbg !71073"}], "at_file": "drivers/media/v4l2-core/v4l2-dev.c", "by": "GlobalVariableRaceDetector says:", "at_func": "video_devdata"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 1065, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "stk_allocate_buffers(dev, rb->count);"}, {"lineno": 589, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "err = stk_prepare_iso(dev);"}, {"lineno": 439, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "dev->isobufs = kcalloc(MAX_ISO_BUFS, sizeof(*dev->isobufs),"}, {"lineno": 687, "file": "./include/linux/slab.h", "instr": "  %11 = call i8* @kmalloc_array.264(i64 %7, i64 %8, i32 %10) #12, !dbg !71080"}],
"warnings":[{"warn_data": {"at_line": 553, "warn_str": "Trying to use a global variable without locking.", "at": "  %221 = getelementptr [3 x [14 x %struct.kmem_cache*]], [3 x [14 x %struct.kmem_cache*]]* @kmalloc_caches, i64 0, i64 %220, !dbg !71314", "inst_trace": [{"instr_func": "stk_vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "stk_vidioc_reqbufs", "instr_loc": 1065, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "stk_allocate_buffers(dev, rb->count);"}, {"instr_func": "stk_allocate_buffers", "instr_loc": 589, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "err = stk_prepare_iso(dev);"}, {"instr_func": "stk_prepare_iso", "instr_loc": 439, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "dev->isobufs = kcalloc(MAX_ISO_BUFS, sizeof(*dev->isobufs),"}, {"instr_func": "kcalloc", "instr_loc": 687, "instr_file": "./include/linux/slab.h", "instr": "  %11 = call i8* @kmalloc_array.264(i64 %7, i64 %8, i32 %10) #12, !dbg !71080"}], "at_file": "./include/linux/slab.h", "by": "GlobalVariableRaceDetector says:", "at_func": "kmalloc_array.264"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 1065, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "stk_allocate_buffers(dev, rb->count);"}, {"lineno": 589, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "err = stk_prepare_iso(dev);"}, {"lineno": 456, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "urb = usb_alloc_urb(ISO_FRAMES_PER_DESC, GFP_KERNEL);"}],
"warnings":[{"warn_data": {"at_line": 70, "warn_str": "Trying to use a global variable without locking.", "at": "{", "inst_trace": [{"instr_func": "stk_vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "stk_vidioc_reqbufs", "instr_loc": 1065, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "stk_allocate_buffers(dev, rb->count);"}, {"instr_func": "stk_allocate_buffers", "instr_loc": 589, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "err = stk_prepare_iso(dev);"}, {"instr_func": "stk_prepare_iso", "instr_loc": 456, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "urb = usb_alloc_urb(ISO_FRAMES_PER_DESC, GFP_KERNEL);"}], "at_file": "drivers/usb/core/urb.c", "by": "GlobalVariableRaceDetector says:", "at_func": "usb_alloc_urb"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 1065, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "stk_allocate_buffers(dev, rb->count);"}, {"lineno": 589, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "err = stk_prepare_iso(dev);"}, {"lineno": 447, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "kbuf = kzalloc(ISO_BUFFER_SIZE, GFP_KERNEL);"}],
"warnings":[{"warn_data": {"at_line": 553, "warn_str": "Trying to use a global variable without locking.", "at": "  %183 = getelementptr [3 x [14 x %struct.kmem_cache*]], [3 x [14 x %struct.kmem_cache*]]* @kmalloc_caches, i64 0, i64 %182, !dbg !71293", "inst_trace": [{"instr_func": "stk_vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "stk_vidioc_reqbufs", "instr_loc": 1065, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "stk_allocate_buffers(dev, rb->count);"}, {"instr_func": "stk_allocate_buffers", "instr_loc": 589, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "err = stk_prepare_iso(dev);"}, {"instr_func": "stk_prepare_iso", "instr_loc": 447, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "kbuf = kzalloc(ISO_BUFFER_SIZE, GFP_KERNEL);"}], "at_file": "./include/linux/slab.h", "by": "GlobalVariableRaceDetector says:", "at_func": "kzalloc.238"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 1051, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "stk_camera_write_reg(dev, 0x0, 0x49); /* turn off the LED */"}, {"lineno": 129, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "ret =  usb_control_msg(udev, usb_sndctrlpipe(udev, 0),"}],
"warnings":[{"warn_data": {"at_line": 138, "warn_str": "Trying to use a global variable without locking.", "at": "{", "inst_trace": [{"instr_func": "stk_vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "stk_vidioc_reqbufs", "instr_loc": 1051, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "stk_camera_write_reg(dev, 0x0, 0x49); /* turn off the LED */"}, {"instr_func": "stk_camera_write_reg", "instr_loc": 129, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "ret =  usb_control_msg(udev, usb_sndctrlpipe(udev, 0),"}], "at_file": "drivers/usb/core/message.c", "by": "GlobalVariableRaceDetector says:", "at_func": "usb_control_msg"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 1051, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "stk_camera_write_reg(dev, 0x0, 0x49); /* turn off the LED */"}, {"lineno": 129, "file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "ret =  usb_control_msg(udev, usb_sndctrlpipe(udev, 0),"}, {"lineno": 152, "file": "drivers/usb/core/message.c", "instr": "ret = usb_internal_control_msg(dev, pipe, dr, data, size, timeout);"}, {"lineno": 101, "file": "drivers/usb/core/message.c", "instr": "retv = usb_start_wait_urb(urb, timeout, &length);"}, {"lineno": 57, "file": "drivers/usb/core/message.c", "instr": "retval = usb_submit_urb(urb, GFP_NOIO);"}],
"warnings":[{"warn_data": {"at_line": 477, "warn_str": "Trying to use a global variable without locking.", "at": "dev_WARN(&dev->dev, \"BOGUS urb xfer, pipe %x != type %x\\n\",", "inst_trace": [{"instr_func": "stk_vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "stk_vidioc_reqbufs", "instr_loc": 1051, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "stk_camera_write_reg(dev, 0x0, 0x49); /* turn off the LED */"}, {"instr_func": "stk_camera_write_reg", "instr_loc": 129, "instr_file": "drivers/media/usb/stkwebcam/stk-webcam.c", "instr": "ret =  usb_control_msg(udev, usb_sndctrlpipe(udev, 0),"}, {"instr_func": "usb_control_msg", "instr_loc": 152, "instr_file": "drivers/usb/core/message.c", "instr": "ret = usb_internal_control_msg(dev, pipe, dr, data, size, timeout);"}, {"instr_func": "usb_internal_control_msg", "instr_loc": 101, "instr_file": "drivers/usb/core/message.c", "instr": "retv = usb_start_wait_urb(urb, timeout, &length);"}, {"instr_func": "usb_start_wait_urb", "instr_loc": 57, "instr_file": "drivers/usb/core/message.c", "instr": "retval = usb_submit_urb(urb, GFP_NOIO);"}], "at_file": "drivers/usb/core/urb.c", "by": "GlobalVariableRaceDetector says:", "at_func": "usb_submit_urb"}, "warn_no": 1}]}]}