{"all_contexts":[
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 393, "file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "struct camera_data *cam = video_drvdata(file);"}, {"lineno": 510, "file": "./include/media/v4l2-dev.h", "instr": "  %4 = call %struct.video_device.1189* bitcast (%struct.video_device.3546* (%struct.file*)* @video_devdata to %struct.video_device.1189* (%struct.file*)*)(%struct.file* %3) #12, !dbg !79459"}],
"warnings":[{"warn_data": {"at_line": 236, "warn_str": "Trying to use a global variable without locking.", "at": "return video_devices[iminor(file_inode(file))];", "inst_trace": [{"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": 393, "instr_file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "struct camera_data *cam = video_drvdata(file);"}, {"instr_func": "video_drvdata", "instr_loc": 510, "instr_file": "./include/media/v4l2-dev.h", "instr": "  %4 = call %struct.video_device.1189* bitcast (%struct.video_device.3546* (%struct.file*)* @video_devdata to %struct.video_device.1189* (%struct.file*)*)(%struct.file* %3) #12, !dbg !79459"}], "at_file": "drivers/media/v4l2-core/v4l2-dev.c", "by": "GlobalVariableRaceDetector says:", "at_func": "video_devdata"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 418, "file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"lineno": 1879, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_set_low_power(cam);"}, {"lineno": 888, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_do_command(cam, CPIA2_CMD_SET_SYSTEM_CTRL, TRANSFER_WRITE, 0);"}, {"lineno": 420, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "retval = cpia2_send_command(cam, &cmd);"}],
"warnings":[{"warn_data": {"at_line": 561, "warn_str": "Trying to use a global variable without locking.", "at": "if (debugs_on & DEBUG_REG)", "inst_trace": [{"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": 418, "instr_file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"instr_func": "cpia2_set_format", "instr_loc": 1879, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_set_low_power(cam);"}, {"instr_func": "cpia2_set_low_power", "instr_loc": 888, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_do_command(cam, CPIA2_CMD_SET_SYSTEM_CTRL, TRANSFER_WRITE, 0);"}, {"instr_func": "cpia2_do_command", "instr_loc": 420, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "retval = cpia2_send_command(cam, &cmd);"}], "at_file": "drivers/media/usb/cpia2/cpia2_core.c", "by": "GlobalVariableRaceDetector says:", "at_func": "cpia2_send_command"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 418, "file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"lineno": 1880, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_reset_camera(cam);"}, {"lineno": 646, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_send_command(cam, &cmd);"}, {"lineno": 570, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "retval = cpia2_usb_transfer_cmd(cam,"}, {"lineno": 618, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "err = read_packet(udev, request, (u8 *)registers, start, count);"}],
"warnings":[{"warn_data": {"at_line": 573, "warn_str": "Trying to use a global variable without locking.", "at": "buf = kmalloc(size, GFP_KERNEL);", "inst_trace": [{"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": 418, "instr_file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"instr_func": "cpia2_set_format", "instr_loc": 1880, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_reset_camera(cam);"}, {"instr_func": "cpia2_reset_camera", "instr_loc": 646, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_send_command(cam, &cmd);"}, {"instr_func": "cpia2_send_command", "instr_loc": 570, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "retval = cpia2_usb_transfer_cmd(cam,"}, {"instr_func": "cpia2_usb_transfer_cmd", "instr_loc": 618, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "err = read_packet(udev, request, (u8 *)registers, start, count);"}], "at_file": "drivers/media/usb/cpia2/cpia2_usb.c", "by": "GlobalVariableRaceDetector says:", "at_func": "read_packet"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 418, "file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"lineno": 1885, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_stream_resume(cam);"}, {"lineno": 790, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "ret = submit_urbs(cam);"}],
"warnings":[{"warn_data": {"at_line": 657, "warn_str": "Trying to use a global variable without locking.", "at": "kmalloc_array(FRAME_SIZE_PER_DESC, FRAMES_PER_DESC,", "inst_trace": [{"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": 418, "instr_file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"instr_func": "cpia2_set_format", "instr_loc": 1885, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_stream_resume(cam);"}, {"instr_func": "cpia2_usb_stream_resume", "instr_loc": 790, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "ret = submit_urbs(cam);"}], "at_file": "drivers/media/usb/cpia2/cpia2_usb.c", "by": "GlobalVariableRaceDetector says:", "at_func": "submit_urbs"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 418, "file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"lineno": 1880, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_reset_camera(cam);"}, {"lineno": 717, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "set_all_properties(cam);"}, {"lineno": 1548, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_change_streaming_alternate(cam,"}, {"lineno": 456, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "configure_transfer_mode(cam, alt);"}],
"warnings":[{"warn_data": {"at_line": 393, "warn_str": "Trying to use a global variable without locking.", "at": "cmd.buffer.block_data[0] = iso_regs[alt][0];", "inst_trace": [{"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": 418, "instr_file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"instr_func": "cpia2_set_format", "instr_loc": 1880, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_reset_camera(cam);"}, {"instr_func": "cpia2_reset_camera", "instr_loc": 717, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "set_all_properties(cam);"}, {"instr_func": "set_all_properties", "instr_loc": 1548, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_change_streaming_alternate(cam,"}, {"instr_func": "cpia2_usb_change_streaming_alternate", "instr_loc": 456, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "configure_transfer_mode(cam, alt);"}], "at_file": "drivers/media/usb/cpia2/cpia2_usb.c", "by": "GlobalVariableRaceDetector says:", "at_func": "configure_transfer_mode"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 418, "file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"lineno": 1885, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_stream_resume(cam);"}, {"lineno": 790, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "ret = submit_urbs(cam);"}, {"lineno": 657, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "kmalloc_array(FRAME_SIZE_PER_DESC, FRAMES_PER_DESC,"}],
"warnings":[{"warn_data": {"at_line": 553, "warn_str": "Trying to use a global variable without locking.", "at": "  %221 = getelementptr [3 x [14 x %struct.kmem_cache*]], [3 x [14 x %struct.kmem_cache*]]* @kmalloc_caches, i64 0, i64 %220, !dbg !79700", "inst_trace": [{"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": 418, "instr_file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"instr_func": "cpia2_set_format", "instr_loc": 1885, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_stream_resume(cam);"}, {"instr_func": "cpia2_usb_stream_resume", "instr_loc": 790, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "ret = submit_urbs(cam);"}, {"instr_func": "submit_urbs", "instr_loc": 657, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "kmalloc_array(FRAME_SIZE_PER_DESC, FRAMES_PER_DESC,"}], "at_file": "./include/linux/slab.h", "by": "GlobalVariableRaceDetector says:", "at_func": "kmalloc_array"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 418, "file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"lineno": 1885, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_stream_resume(cam);"}, {"lineno": 790, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "ret = submit_urbs(cam);"}, {"lineno": 675, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "urb = usb_alloc_urb(FRAMES_PER_DESC, GFP_KERNEL);"}],
"warnings":[{"warn_data": {"at_line": 70, "warn_str": "Trying to use a global variable without locking.", "at": "{", "inst_trace": [{"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": 418, "instr_file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"instr_func": "cpia2_set_format", "instr_loc": 1885, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_stream_resume(cam);"}, {"instr_func": "cpia2_usb_stream_resume", "instr_loc": 790, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "ret = submit_urbs(cam);"}, {"instr_func": "submit_urbs", "instr_loc": 675, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "urb = usb_alloc_urb(FRAMES_PER_DESC, GFP_KERNEL);"}], "at_file": "drivers/usb/core/urb.c", "by": "GlobalVariableRaceDetector says:", "at_func": "usb_alloc_urb"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 418, "file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"lineno": 1885, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_stream_resume(cam);"}, {"lineno": 790, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "ret = submit_urbs(cam);"}, {"lineno": 704, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "err = usb_submit_urb(cam->sbuf[i].urb, GFP_KERNEL);"}],
"warnings":[{"warn_data": {"at_line": 477, "warn_str": "Trying to use a global variable without locking.", "at": "dev_WARN(&dev->dev, \"BOGUS urb xfer, pipe %x != type %x\\n\",", "inst_trace": [{"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": 418, "instr_file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"instr_func": "cpia2_set_format", "instr_loc": 1885, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_stream_resume(cam);"}, {"instr_func": "cpia2_usb_stream_resume", "instr_loc": 790, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "ret = submit_urbs(cam);"}, {"instr_func": "submit_urbs", "instr_loc": 704, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "err = usb_submit_urb(cam->sbuf[i].urb, GFP_KERNEL);"}], "at_file": "drivers/usb/core/urb.c", "by": "GlobalVariableRaceDetector says:", "at_func": "usb_submit_urb"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 418, "file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"lineno": 1885, "file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_stream_resume(cam);"}, {"lineno": 790, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "ret = submit_urbs(cam);"}, {"lineno": 704, "file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "err = usb_submit_urb(cam->sbuf[i].urb, GFP_KERNEL);"}, {"lineno": 476, "file": "drivers/usb/core/urb.c", "instr": "if (usb_urb_ep_type_check(urb))"}],
"warnings":[{"warn_data": {"at_line": 208, "warn_str": "Trying to use a global variable without locking.", "at": "if (usb_pipetype(urb->pipe) != pipetypes[usb_endpoint_type(&ep->desc)])", "inst_trace": [{"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "cpia2_s_fmt_vid_cap", "instr_loc": 418, "instr_file": "drivers/media/usb/cpia2/cpia2_v4l.c", "instr": "cpia2_set_format(cam);"}, {"instr_func": "cpia2_set_format", "instr_loc": 1885, "instr_file": "drivers/media/usb/cpia2/cpia2_core.c", "instr": "cpia2_usb_stream_resume(cam);"}, {"instr_func": "cpia2_usb_stream_resume", "instr_loc": 790, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "ret = submit_urbs(cam);"}, {"instr_func": "submit_urbs", "instr_loc": 704, "instr_file": "drivers/media/usb/cpia2/cpia2_usb.c", "instr": "err = usb_submit_urb(cam->sbuf[i].urb, GFP_KERNEL);"}, {"instr_func": "usb_submit_urb", "instr_loc": 476, "instr_file": "drivers/usb/core/urb.c", "instr": "if (usb_urb_ep_type_check(urb))"}], "at_file": "drivers/usb/core/urb.c", "by": "GlobalVariableRaceDetector says:", "at_func": "usb_urb_ep_type_check"}, "warn_no": 1}]}]}