{"all_contexts":[
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 120, "file": "drivers/nvdimm/btt_devs.c", "instr": "struct nd_btt *nd_btt = to_nd_btt(dev);"}, {"lineno": 43, "file": "drivers/nvdimm/btt_devs.c", "instr": "WARN_ON(!is_nd_btt(dev));"}],
"warnings":[{"warn_data": {"at_line": 35, "warn_str": "Trying to use a global variable without locking.", "at": "return dev->type == &nd_btt_device_type;", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 120, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "struct nd_btt *nd_btt = to_nd_btt(dev);"}, {"instr_func": "to_nd_btt", "instr_loc": 43, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "WARN_ON(!is_nd_btt(dev));"}], "at_file": "drivers/nvdimm/btt_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "is_nd_btt"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 123, "file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"lineno": 226, "file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}],
"warnings":[{"warn_data": {"at_line": 212, "warn_str": "Trying to use a global variable without locking.", "at": "  %62 = load %struct.class*, %struct.class** @nd_class, align 8, !dbg !126717", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 123, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"instr_func": "nd_device_lock", "instr_loc": 226, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}], "at_file": "drivers/nvdimm/nd-core.h", "by": "GlobalVariableRaceDetector says:", "at_func": "debug_nvdimm_lock"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 123, "file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"lineno": 226, "file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"lineno": 202, "file": "drivers/nvdimm/nd-core.h", "instr": "  %6 = call zeroext i1 @is_nd_region(%struct.device* %5) #15, !dbg !126668"}, {"lineno": 120, "file": "drivers/nvdimm/nd-core.h", "instr": "  %4 = call zeroext i1 @is_nd_pmem(%struct.device* %3) #15, !dbg !126669"}],
"warnings":[{"warn_data": {"at_line": 160, "warn_str": "Trying to use a global variable without locking.", "at": "return dev ? dev->type == &nd_pmem_device_type : false;", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 123, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"instr_func": "nd_device_lock", "instr_loc": 226, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"instr_func": "debug_nvdimm_lock", "instr_loc": 202, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  %6 = call zeroext i1 @is_nd_region(%struct.device* %5) #15, !dbg !126668"}, {"instr_func": "is_nd_region", "instr_loc": 120, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  %4 = call zeroext i1 @is_nd_pmem(%struct.device* %3) #15, !dbg !126669"}], "at_file": "drivers/nvdimm/region_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "is_nd_pmem"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 123, "file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"lineno": 226, "file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"lineno": 202, "file": "drivers/nvdimm/nd-core.h", "instr": "  %6 = call zeroext i1 @is_nd_region(%struct.device* %5) #15, !dbg !126668"}, {"lineno": 120, "file": "drivers/nvdimm/nd-core.h", "instr": "  %8 = call zeroext i1 @is_nd_blk(%struct.device* %7) #15, !dbg !126672"}],
"warnings":[{"warn_data": {"at_line": 165, "warn_str": "Trying to use a global variable without locking.", "at": "return dev ? dev->type == &nd_blk_device_type : false;", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 123, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"instr_func": "nd_device_lock", "instr_loc": 226, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"instr_func": "debug_nvdimm_lock", "instr_loc": 202, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  %6 = call zeroext i1 @is_nd_region(%struct.device* %5) #15, !dbg !126668"}, {"instr_func": "is_nd_region", "instr_loc": 120, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  %8 = call zeroext i1 @is_nd_blk(%struct.device* %7) #15, !dbg !126672"}], "at_file": "drivers/nvdimm/region_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "is_nd_blk"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 123, "file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"lineno": 226, "file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"lineno": 202, "file": "drivers/nvdimm/nd-core.h", "instr": "  %6 = call zeroext i1 @is_nd_region(%struct.device* %5) #15, !dbg !126668"}, {"lineno": 120, "file": "drivers/nvdimm/nd-core.h", "instr": "  %12 = call zeroext i1 @is_nd_volatile(%struct.device* %11) #15, !dbg !126675"}],
"warnings":[{"warn_data": {"at_line": 170, "warn_str": "Trying to use a global variable without locking.", "at": "return dev ? dev->type == &nd_volatile_device_type : false;", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 123, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"instr_func": "nd_device_lock", "instr_loc": 226, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"instr_func": "debug_nvdimm_lock", "instr_loc": 202, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  %6 = call zeroext i1 @is_nd_region(%struct.device* %5) #15, !dbg !126668"}, {"instr_func": "is_nd_region", "instr_loc": 120, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  %12 = call zeroext i1 @is_nd_volatile(%struct.device* %11) #15, !dbg !126675"}], "at_file": "drivers/nvdimm/region_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "is_nd_volatile"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 123, "file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"lineno": 226, "file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"lineno": 204, "file": "drivers/nvdimm/nd-core.h", "instr": "  %12 = call zeroext i1 bitcast (i1 (%struct.device.4008*)* @is_nvdimm to i1 (%struct.device*)*)(%struct.device* %11) #15, !dbg !126675"}],
"warnings":[{"warn_data": {"at_line": 212, "warn_str": "Trying to use a global variable without locking.", "at": "return dev->type == &nvdimm_device_type;", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 123, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"instr_func": "nd_device_lock", "instr_loc": 226, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"instr_func": "debug_nvdimm_lock", "instr_loc": 204, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  %12 = call zeroext i1 bitcast (i1 (%struct.device.4008*)* @is_nvdimm to i1 (%struct.device*)*)(%struct.device* %11) #15, !dbg !126675"}], "at_file": "drivers/nvdimm/dimm_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "is_nvdimm"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 123, "file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"lineno": 226, "file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"lineno": 206, "file": "drivers/nvdimm/nd-core.h", "instr": "  %22 = call zeroext i1 @is_nd_pfn(%struct.device* %21) #15, !dbg !126685"}],
"warnings":[{"warn_data": {"at_line": 36, "warn_str": "Trying to use a global variable without locking.", "at": "return dev ? dev->type == &nd_pfn_device_type : false;", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 123, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"instr_func": "nd_device_lock", "instr_loc": 226, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"instr_func": "debug_nvdimm_lock", "instr_loc": 206, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  %22 = call zeroext i1 @is_nd_pfn(%struct.device* %21) #15, !dbg !126685"}], "at_file": "drivers/nvdimm/pfn_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "is_nd_pfn"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 123, "file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"lineno": 226, "file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"lineno": 206, "file": "drivers/nvdimm/nd-core.h", "instr": "  %26 = call zeroext i1 @is_nd_dax(%struct.device* %25) #15, !dbg !126688"}],
"warnings":[{"warn_data": {"at_line": 33, "warn_str": "Trying to use a global variable without locking.", "at": "return dev ? dev->type == &nd_dax_device_type : false;", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 123, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "nd_device_lock(dev);"}, {"instr_func": "nd_device_lock", "instr_loc": 226, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock(%struct.device* %4) #15, !dbg !126669"}, {"instr_func": "debug_nvdimm_lock", "instr_loc": 206, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  %26 = call zeroext i1 @is_nd_dax(%struct.device* %25) #15, !dbg !126688"}], "at_file": "drivers/nvdimm/dax_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "is_nd_dax"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 124, "file": "drivers/nvdimm/btt_devs.c", "instr": "nvdimm_bus_lock(dev);"}, {"lineno": 24, "file": "drivers/nvdimm/core.c", "instr": "struct nvdimm_bus *nvdimm_bus = walk_to_nvdimm_bus(dev);"}],
"warnings":[{"warn_data": {"at_line": 317, "warn_str": "Trying to use a global variable without locking.", "at": "dev_WARN_ONCE(nd_dev, !dev, \"invalid dev, not on nd bus\\n\");", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 124, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "nvdimm_bus_lock(dev);"}, {"instr_func": "nvdimm_bus_lock", "instr_loc": 24, "instr_file": "drivers/nvdimm/core.c", "instr": "struct nvdimm_bus *nvdimm_bus = walk_to_nvdimm_bus(dev);"}], "at_file": "drivers/nvdimm/bus.c", "by": "GlobalVariableRaceDetector says:", "at_func": "walk_to_nvdimm_bus"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 125, "file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"lineno": 208, "file": "drivers/nvdimm/claim.c", "instr": "if (__nvdimm_namespace_capacity(ndns) < SZ_16M) {"}],
"warnings":[{"warn_data": {"at_line": 1126, "warn_str": "Trying to use a global variable without locking.", "at": "WARN_ONCE(1, \"unknown namespace type\\n\");", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 125, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"instr_func": "nd_namespace_store", "instr_loc": 208, "instr_file": "drivers/nvdimm/claim.c", "instr": "if (__nvdimm_namespace_capacity(ndns) < SZ_16M) {"}], "at_file": "drivers/nvdimm/namespace_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "__nvdimm_namespace_capacity"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 125, "file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"lineno": 208, "file": "drivers/nvdimm/claim.c", "instr": "if (__nvdimm_namespace_capacity(ndns) < SZ_16M) {"}, {"lineno": 1115, "file": "drivers/nvdimm/namespace_devs.c", "instr": "if (is_namespace_pmem(dev)) {"}],
"warnings":[{"warn_data": {"at_line": 64, "warn_str": "Trying to use a global variable without locking.", "at": "return dev ? dev->type == &namespace_pmem_device_type : false;", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 125, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"instr_func": "nd_namespace_store", "instr_loc": 208, "instr_file": "drivers/nvdimm/claim.c", "instr": "if (__nvdimm_namespace_capacity(ndns) < SZ_16M) {"}, {"instr_func": "__nvdimm_namespace_capacity", "instr_loc": 1115, "instr_file": "drivers/nvdimm/namespace_devs.c", "instr": "if (is_namespace_pmem(dev)) {"}], "at_file": "drivers/nvdimm/namespace_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "is_namespace_pmem"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 125, "file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"lineno": 208, "file": "drivers/nvdimm/claim.c", "instr": "if (__nvdimm_namespace_capacity(ndns) < SZ_16M) {"}, {"lineno": 1119, "file": "drivers/nvdimm/namespace_devs.c", "instr": "} else if (is_namespace_blk(dev)) {"}],
"warnings":[{"warn_data": {"at_line": 69, "warn_str": "Trying to use a global variable without locking.", "at": "return dev ? dev->type == &namespace_blk_device_type : false;", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 125, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"instr_func": "nd_namespace_store", "instr_loc": 208, "instr_file": "drivers/nvdimm/claim.c", "instr": "if (__nvdimm_namespace_capacity(ndns) < SZ_16M) {"}, {"instr_func": "__nvdimm_namespace_capacity", "instr_loc": 1119, "instr_file": "drivers/nvdimm/namespace_devs.c", "instr": "} else if (is_namespace_blk(dev)) {"}], "at_file": "drivers/nvdimm/namespace_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "is_namespace_blk"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 125, "file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"lineno": 208, "file": "drivers/nvdimm/claim.c", "instr": "if (__nvdimm_namespace_capacity(ndns) < SZ_16M) {"}, {"lineno": 1121, "file": "drivers/nvdimm/namespace_devs.c", "instr": "} else if (is_namespace_io(dev)) {"}],
"warnings":[{"warn_data": {"at_line": 74, "warn_str": "Trying to use a global variable without locking.", "at": "return dev ? dev->type == &namespace_io_device_type : false;", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 125, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"instr_func": "nd_namespace_store", "instr_loc": 208, "instr_file": "drivers/nvdimm/claim.c", "instr": "if (__nvdimm_namespace_capacity(ndns) < SZ_16M) {"}, {"instr_func": "__nvdimm_namespace_capacity", "instr_loc": 1121, "instr_file": "drivers/nvdimm/namespace_devs.c", "instr": "} else if (is_namespace_io(dev)) {"}], "at_file": "drivers/nvdimm/namespace_devs.c", "by": "GlobalVariableRaceDetector says:", "at_func": "is_namespace_io"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 125, "file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"lineno": 215, "file": "drivers/nvdimm/claim.c", "instr": "if (!__nd_attach_ndns(dev, ndns, _ndns)) {"}],
"warnings":[{"warn_data": {"at_line": 50, "warn_str": "Trying to use a global variable without locking.", "at": "lockdep_assert_held(&nvdimm_bus->reconfig_mutex);", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 125, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"instr_func": "nd_namespace_store", "instr_loc": 215, "instr_file": "drivers/nvdimm/claim.c", "instr": "if (!__nd_attach_ndns(dev, ndns, _ndns)) {"}], "at_file": "drivers/nvdimm/claim.c", "by": "GlobalVariableRaceDetector says:", "at_func": "__nd_attach_ndns"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 125, "file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"lineno": 161, "file": "drivers/nvdimm/claim.c", "instr": "nd_detach_and_reset(dev, _ndns);"}, {"lineno": 116, "file": "drivers/nvdimm/claim.c", "instr": "__nd_detach_ndns(dev, _ndns);"}],
"warnings":[{"warn_data": {"at_line": 22, "warn_str": "Trying to use a global variable without locking.", "at": "lockdep_assert_held(&nvdimm_bus->reconfig_mutex);", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 125, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"instr_func": "nd_namespace_store", "instr_loc": 161, "instr_file": "drivers/nvdimm/claim.c", "instr": "nd_detach_and_reset(dev, _ndns);"}, {"instr_func": "nd_detach_and_reset", "instr_loc": 116, "instr_file": "drivers/nvdimm/claim.c", "instr": "__nd_detach_ndns(dev, _ndns);"}], "at_file": "drivers/nvdimm/claim.c", "by": "GlobalVariableRaceDetector says:", "at_func": "__nd_detach_ndns"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %5 = alloca i1, align 1"}, {"lineno": 125, "file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"lineno": 161, "file": "drivers/nvdimm/claim.c", "instr": "nd_detach_and_reset(dev, _ndns);"}, {"lineno": 118, "file": "drivers/nvdimm/claim.c", "instr": "nd_device_unregister(dev, ND_ASYNC);"}, {"lineno": 584, "file": "drivers/nvdimm/bus.c", "instr": "nd_device_lock(dev);"}, {"lineno": 226, "file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock.270(%struct.device* %4) #15, !dbg !126669"}],
"warnings":[{"warn_data": {"at_line": 212, "warn_str": "Trying to use a global variable without locking.", "at": "  %62 = load %struct.class*, %struct.class** @nd_class, align 8, !dbg !126717", "inst_trace": [{"instr_func": "namespace_store", "instr_loc": -1, "instr": "  %5 = alloca i1, align 1"}, {"instr_func": "namespace_store", "instr_loc": 125, "instr_file": "drivers/nvdimm/btt_devs.c", "instr": "rc = nd_namespace_store(dev, &nd_btt->ndns, buf, len);"}, {"instr_func": "nd_namespace_store", "instr_loc": 161, "instr_file": "drivers/nvdimm/claim.c", "instr": "nd_detach_and_reset(dev, _ndns);"}, {"instr_func": "nd_detach_and_reset", "instr_loc": 118, "instr_file": "drivers/nvdimm/claim.c", "instr": "nd_device_unregister(dev, ND_ASYNC);"}, {"instr_func": "nd_device_unregister", "instr_loc": 584, "instr_file": "drivers/nvdimm/bus.c", "instr": "nd_device_lock(dev);"}, {"instr_func": "nd_device_lock.288", "instr_loc": 226, "instr_file": "drivers/nvdimm/nd-core.h", "instr": "  call void @debug_nvdimm_lock.270(%struct.device* %4) #15, !dbg !126669"}], "at_file": "drivers/nvdimm/nd-core.h", "by": "GlobalVariableRaceDetector says:", "at_func": "debug_nvdimm_lock.270"}, "warn_no": 1}]}]}