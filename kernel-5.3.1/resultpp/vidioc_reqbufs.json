{"all_contexts":[
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}],
"warnings":[{"warn_data": {"at_line": 571, "warn_str": "Trying to use a global variable without locking.", "at": "mfc_debug(2, \"Only V4L2_MEMORY_MMAP is supported\\n\");", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}], "at_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "by": "GlobalVariableRaceDetector says:", "at_func": "vidioc_reqbufs"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 567, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "struct s5p_mfc_dev *dev = video_drvdata(file);"}, {"lineno": 510, "file": "./include/media/v4l2-dev.h", "instr": "  %4 = call %struct.video_device* @video_devdata(%struct.file* %3) #14, !dbg !156480"}],
"warnings":[{"warn_data": {"at_line": 236, "warn_str": "Trying to use a global variable without locking.", "at": "return video_devices[iminor(file_inode(file))];", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 567, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "struct s5p_mfc_dev *dev = video_drvdata(file);"}, {"instr_func": "video_drvdata.723", "instr_loc": 510, "instr_file": "./include/media/v4l2-dev.h", "instr": "  %4 = call %struct.video_device* @video_devdata(%struct.file* %3) #14, !dbg !156480"}], "at_file": "drivers/media/v4l2-core/v4l2-dev.c", "by": "GlobalVariableRaceDetector says:", "at_func": "video_devdata"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 578, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}],
"warnings":[{"warn_data": {"at_line": 525, "warn_str": "Trying to use a global variable without locking.", "at": "mfc_debug(2, \"Allocating %d buffers for CAPTURE queue\\n\",", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 578, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}], "at_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "by": "GlobalVariableRaceDetector says:", "at_func": "reqbufs_capture"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 578, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"lineno": 514, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_on();"}],
"warnings":[{"warn_data": {"at_line": 64, "warn_str": "Trying to use a global variable without locking.", "at": "mfc_debug(3, \"+ %d\\n\", atomic_read(&clk_ref));", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 578, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"instr_func": "reqbufs_capture", "instr_loc": 514, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_on();"}], "at_file": "drivers/media/platform/s5p-mfc/s5p_mfc_pm.c", "by": "GlobalVariableRaceDetector says:", "at_func": "s5p_mfc_clock_on"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 578, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"lineno": 514, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_on();"}, {"lineno": 66, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_pm.c", "instr": "return clk_enable(pm->clock_gate);"}, {"lineno": 1157, "file": "drivers/clk/clk.c", "instr": "return clk_core_enable_lock(clk->core);"}, {"lineno": 1037, "file": "drivers/clk/clk.c", "instr": "flags = clk_enable_lock();"}],
"warnings":[{"warn_data": {"at_line": 160, "warn_str": "Trying to use a global variable without locking.", "at": "!spin_trylock_irqsave(&enable_lock, flags)) {", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 578, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"instr_func": "reqbufs_capture", "instr_loc": 514, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_on();"}, {"instr_func": "s5p_mfc_clock_on", "instr_loc": 66, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_pm.c", "instr": "return clk_enable(pm->clock_gate);"}, {"instr_func": "clk_enable", "instr_loc": 1157, "instr_file": "drivers/clk/clk.c", "instr": "return clk_core_enable_lock(clk->core);"}, {"instr_func": "clk_core_enable_lock", "instr_loc": 1037, "instr_file": "drivers/clk/clk.c", "instr": "flags = clk_enable_lock();"}], "at_file": "drivers/clk/clk.c", "by": "GlobalVariableRaceDetector says:", "at_func": "clk_enable_lock"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 578, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"lineno": 514, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_on();"}, {"lineno": 66, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_pm.c", "instr": "return clk_enable(pm->clock_gate);"}, {"lineno": 1157, "file": "drivers/clk/clk.c", "instr": "return clk_core_enable_lock(clk->core);"}, {"lineno": 1038, "file": "drivers/clk/clk.c", "instr": "ret = clk_core_enable(core);"}],
"warnings":[{"warn_data": {"at_line": 1000, "warn_str": "Trying to use a global variable without locking.", "at": "lockdep_assert_held(&enable_lock);", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 578, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"instr_func": "reqbufs_capture", "instr_loc": 514, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_on();"}, {"instr_func": "s5p_mfc_clock_on", "instr_loc": 66, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_pm.c", "instr": "return clk_enable(pm->clock_gate);"}, {"instr_func": "clk_enable", "instr_loc": 1157, "instr_file": "drivers/clk/clk.c", "instr": "return clk_core_enable_lock(clk->core);"}, {"instr_func": "clk_core_enable_lock", "instr_loc": 1038, "instr_file": "drivers/clk/clk.c", "instr": "ret = clk_core_enable(core);"}], "at_file": "drivers/clk/clk.c", "by": "GlobalVariableRaceDetector says:", "at_func": "clk_core_enable"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 578, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"lineno": 514, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_on();"}, {"lineno": 66, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_pm.c", "instr": "return clk_enable(pm->clock_gate);"}, {"lineno": 1157, "file": "drivers/clk/clk.c", "instr": "return clk_core_enable_lock(clk->core);"}, {"lineno": 1039, "file": "drivers/clk/clk.c", "instr": "clk_enable_unlock(flags);"}],
"warnings":[{"warn_data": {"at_line": 180, "warn_str": "Trying to use a global variable without locking.", "at": "WARN_ON_ONCE(enable_owner != current);", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 578, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"instr_func": "reqbufs_capture", "instr_loc": 514, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_on();"}, {"instr_func": "s5p_mfc_clock_on", "instr_loc": 66, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_pm.c", "instr": "return clk_enable(pm->clock_gate);"}, {"instr_func": "clk_enable", "instr_loc": 1157, "instr_file": "drivers/clk/clk.c", "instr": "return clk_core_enable_lock(clk->core);"}, {"instr_func": "clk_core_enable_lock", "instr_loc": 1039, "instr_file": "drivers/clk/clk.c", "instr": "clk_enable_unlock(flags);"}], "at_file": "drivers/clk/clk.c", "by": "GlobalVariableRaceDetector says:", "at_func": "clk_enable_unlock"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 578, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"lineno": 527, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "ret = vb2_reqbufs(&ctx->vq_dst, reqbufs);"}, {"lineno": 665, "file": "drivers/media/common/videobuf2/videobuf2-v4l2.c", "instr": "int ret = vb2_verify_memory_type(q, req->memory, req->type);"}],
"warnings":[{"warn_data": {"at_line": 660, "warn_str": "Trying to use a global variable without locking.", "at": "dprintk(1, \"file io in progress\\n\");", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 578, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"instr_func": "reqbufs_capture", "instr_loc": 527, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "ret = vb2_reqbufs(&ctx->vq_dst, reqbufs);"}, {"instr_func": "vb2_reqbufs", "instr_loc": 665, "instr_file": "drivers/media/common/videobuf2/videobuf2-v4l2.c", "instr": "int ret = vb2_verify_memory_type(q, req->memory, req->type);"}], "at_file": "drivers/media/common/videobuf2/videobuf2-core.c", "by": "GlobalVariableRaceDetector says:", "at_func": "vb2_verify_memory_type"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 578, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"lineno": 547, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "if (s5p_mfc_ctx_ready(ctx))"}],
"warnings":[{"warn_data": {"at_line": 253, "warn_str": "Trying to use a global variable without locking.", "at": "mfc_debug(2, \"ctx is not ready\\n\");", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 578, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"instr_func": "reqbufs_capture", "instr_loc": 547, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "if (s5p_mfc_ctx_ready(ctx))"}], "at_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "by": "GlobalVariableRaceDetector says:", "at_func": "s5p_mfc_ctx_ready"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 576, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_output(dev, ctx, reqbufs);"}],
"warnings":[{"warn_data": {"at_line": 484, "warn_str": "Trying to use a global variable without locking.", "at": "mfc_debug(2, \"Allocating %d buffers for OUTPUT queue\\n\",", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 576, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_output(dev, ctx, reqbufs);"}], "at_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "by": "GlobalVariableRaceDetector says:", "at_func": "reqbufs_output"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 578, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"lineno": 550, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_wait_for_done_ctx(ctx, S5P_MFC_R2H_CMD_INIT_BUFFERS_RET,"}],
"warnings":[{"warn_data": {"at_line": 75, "warn_str": "Trying to use a global variable without locking.", "at": "mfc_debug(1, \"Finished waiting (ctx->int_type:%d, command: %d)\\n\",", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 578, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"instr_func": "reqbufs_capture", "instr_loc": 550, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_wait_for_done_ctx(ctx, S5P_MFC_R2H_CMD_INIT_BUFFERS_RET,"}], "at_file": "drivers/media/platform/s5p-mfc/s5p_mfc_intr.c", "by": "GlobalVariableRaceDetector says:", "at_func": "s5p_mfc_wait_for_done_ctx"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 578, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"lineno": 557, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_off();"}],
"warnings":[{"warn_data": {"at_line": 72, "warn_str": "Trying to use a global variable without locking.", "at": "mfc_debug(3, \"- %d\\n\", atomic_read(&clk_ref));", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 578, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"instr_func": "reqbufs_capture", "instr_loc": 557, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_off();"}], "at_file": "drivers/media/platform/s5p-mfc/s5p_mfc_pm.c", "by": "GlobalVariableRaceDetector says:", "at_func": "s5p_mfc_clock_off"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 578, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"lineno": 557, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_off();"}, {"lineno": 74, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_pm.c", "instr": "clk_disable(pm->clock_gate);"}, {"lineno": 992, "file": "drivers/clk/clk.c", "instr": "clk_core_disable_lock(clk->core);"}, {"lineno": 971, "file": "drivers/clk/clk.c", "instr": "clk_core_disable(core);"}],
"warnings":[{"warn_data": {"at_line": 941, "warn_str": "Trying to use a global variable without locking.", "at": "lockdep_assert_held(&enable_lock);", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 578, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_capture(dev, ctx, reqbufs);"}, {"instr_func": "reqbufs_capture", "instr_loc": 557, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "s5p_mfc_clock_off();"}, {"instr_func": "s5p_mfc_clock_off", "instr_loc": 74, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_pm.c", "instr": "clk_disable(pm->clock_gate);"}, {"instr_func": "clk_disable", "instr_loc": 992, "instr_file": "drivers/clk/clk.c", "instr": "clk_core_disable_lock(clk->core);"}, {"instr_func": "clk_core_disable_lock", "instr_loc": 971, "instr_file": "drivers/clk/clk.c", "instr": "clk_core_disable(core);"}], "at_file": "drivers/clk/clk.c", "by": "GlobalVariableRaceDetector says:", "at_func": "clk_core_disable"}, "warn_no": 1}]},
{"num_warnings": 1,
"context":[{"lineno": -1, "instr": "  %4 = alloca i32, align 4"}, {"lineno": 576, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_output(dev, ctx, reqbufs);"}, {"lineno": 490, "file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "ret = s5p_mfc_open_mfc_inst(dev, ctx);"}],
"warnings":[{"warn_data": {"at_line": 452, "warn_str": "Trying to use a global variable without locking.", "at": "mfc_debug(2, \"Got instance number: %d\\n\", ctx->inst_no);", "inst_trace": [{"instr_func": "vidioc_reqbufs", "instr_loc": -1, "instr": "  %4 = alloca i32, align 4"}, {"instr_func": "vidioc_reqbufs", "instr_loc": 576, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "return reqbufs_output(dev, ctx, reqbufs);"}, {"instr_func": "reqbufs_output", "instr_loc": 490, "instr_file": "drivers/media/platform/s5p-mfc/s5p_mfc_dec.c", "instr": "ret = s5p_mfc_open_mfc_inst(dev, ctx);"}], "at_file": "drivers/media/platform/s5p-mfc/s5p_mfc_ctrl.c", "by": "GlobalVariableRaceDetector says:", "at_func": "s5p_mfc_open_mfc_inst"}, "warn_no": 1}]}]}